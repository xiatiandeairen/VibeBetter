# VibeBetter v0.8.0 â€” CLI: AI Coding åœºæ™¯åŒ–è½åœ°

## ç‰ˆæœ¬ä¸»é¢˜

> **ä»ã€Œçœ‹æ¿ã€åˆ°ã€Œè¡ŒåŠ¨ã€**ï¼šåœ¨ AI Coding çš„å®é™…å·¥ä½œæµä¸­åµŒå…¥å†³ç­–ï¼Œè®©æ´å¯Ÿé©±åŠ¨è¡Œä¸ºã€‚

---

## ä¸€ã€é—®é¢˜è¯Šæ–­

### å½“å‰äº§å“çš„æ ¸å¿ƒæ–­å±‚

VibeBetter å·²ç»æ„å»ºäº†å®Œæ•´çš„æ•°æ®é‡‡é›†â†’è®¡ç®—â†’å¯è§†åŒ–â†’å†³ç­–å¼•æ“é“¾è·¯ï¼ˆ22 é¡µé¢ã€35+ APIã€133 æµ‹è¯•ï¼‰ï¼Œä½†å­˜åœ¨ä¸€ä¸ªæ ¹æœ¬æ€§çš„äº§å“æ–­å±‚ï¼š

```
ç°çŠ¶ï¼šå¼€å‘è€…å·¥ä½œæµ
  IDE å†™ä»£ç  â†’ git commit â†’ git push â†’ å» Dashboard çœ‹æŒ‡æ ‡ â†’ å›æ¥ç»§ç»­å†™
                                            â†‘
                                    æ–­å±‚ï¼šè¢«åŠ¨ã€è„±ç¦»ä¸Šä¸‹æ–‡ã€é¢‘ç‡ä½

ç›®æ ‡ï¼šåµŒå…¥å¼å·¥ä½œæµ
  IDE å†™ä»£ç  â†’ vibe check â†’ çœ‹åˆ°é£é™© â†’ è°ƒæ•´ç­–ç•¥ â†’ commit â†’ vibe report
                    â†‘                                         â†‘
              ä¸»åŠ¨ã€å³æ—¶ã€ä¸Šä¸‹æ–‡å†…                        è‡ªåŠ¨å½’æ¡£
```

**æ ¸å¿ƒé—®é¢˜**ï¼šæ´å¯Ÿå’Œå†³ç­–åœç•™åœ¨ Web Dashboardï¼Œæ²¡æœ‰åµŒå…¥å¼€å‘è€…çš„æ—¥å¸¸å·¥ä½œæµã€‚å¼€å‘è€…ä¸ä¼šåœ¨å†™ä»£ç æ—¶é¢‘ç¹æ‰“å¼€æµè§ˆå™¨çœ‹æŒ‡æ ‡ã€‚

### ç”¨æˆ·åœºæ™¯åˆ†æ

| åœºæ™¯                              | é¢‘ç‡     | å½“å‰ä½“éªŒ     | æœŸæœ›ä½“éªŒ                          |
| --------------------------------- | -------- | ------------ | --------------------------------- |
| æäº¤å‰æƒ³çŸ¥é“æ”¹äº†å“ªäº›é«˜é£é™©æ–‡ä»¶    | æ¯å¤©å¤šæ¬¡ | æ‰“å¼€æµè§ˆå™¨   | `vibe check` ç»ˆç«¯å³æ—¶æ˜¾ç¤º         |
| PR å‘èµ·å‰æƒ³çŸ¥é“æ•´ä½“é£é™©           | æ¯å¤© 1-2 æ¬¡ | æ‰‹åŠ¨è®¡ç®—  | `vibe risk` è¾“å‡ºé£é™©è¯„åˆ†          |
| Sprint å¼€å§‹æƒ³çŸ¥é“ä¼˜å…ˆå¤„ç†ä»€ä¹ˆ     | æ¯å‘¨ 1 æ¬¡ | çœ‹ Dashboard | `vibe decisions` è¾“å‡ºå»ºè®®åˆ—è¡¨     |
| æƒ³çŸ¥é“æœ€è¿‘ AI ç¼–ç æ•ˆæœ            | æ¯å‘¨ 1-2 æ¬¡ | çœ‹ AI Insights | `vibe insights` ç»ˆç«¯æ‘˜è¦      |
| é¡¹ç›®å¥åº·æ£€æŸ¥                      | æ¯å‘¨ 1 æ¬¡ | çœ‹ Overview  | `vibe report` ç”ŸæˆæŠ¥å‘Š            |

---

## äºŒã€CLI å·¥å…·è®¾è®¡

### 2.1 å‘½ä»¤æ¸…å•

```bash
# åˆå§‹åŒ–ï¼šè¿æ¥åˆ° VibeBetter åç«¯
vibe init --api-url http://localhost:3001 --api-key vb_xxx

# å¿«é€Ÿæ£€æŸ¥ï¼šæäº¤å‰é£é™©é¢„è§ˆ
vibe check
# è¾“å‡ºï¼š
# ğŸ“Š VibeBetter Check â€” MyProject
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# Modified files: 3
# âš  src/services/metrics.ts  Risk: HIGH (complexity: 22, changes: 18)
# âœ“ src/utils/helpers.ts      Risk: LOW
# âœ“ src/config/env.ts         Risk: LOW
# 
# AI Impact: 2/3 files have >30% AI code
# Overall risk: MEDIUM â€” review metrics.ts before commit

# é£é™©è¯„åˆ†
vibe risk [--file src/xxx.ts]
# è¾“å‡ºæ–‡ä»¶çº§æˆ–é¡¹ç›®çº§ PSRI

# å†³ç­–å»ºè®®
vibe decisions
# è¾“å‡ºå½“å‰æœªå¤„ç†çš„å†³ç­–å»ºè®®åˆ—è¡¨

# AI æ´å¯Ÿæ‘˜è¦
vibe insights
# è¾“å‡º AI Success Rate, Stable Rate, tool usage

# å¥åº·æŠ¥å‘Š
vibe report [--format json|text|markdown]
# è¾“å‡ºå®Œæ•´çš„é¡¹ç›®å¥åº·æŠ¥å‘Š

# é‡‡é›† + è®¡ç®—
vibe sync
# è§¦å‘æ•°æ®é‡‡é›† + æŒ‡æ ‡é‡ç®—

# çŠ¶æ€
vibe status
# è¾“å‡ºè¿æ¥çŠ¶æ€ã€é¡¹ç›®ä¿¡æ¯ã€æœ€è¿‘åŒæ­¥æ—¶é—´
```

### 2.2 æŠ€æœ¯æ–¹æ¡ˆ

```
packages/cli/                     # æ–°å¢ CLI åŒ…
â”œâ”€â”€ package.json                  # bin: { "vibe": "./dist/index.js" }
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts                  # å…¥å£ï¼šè§£æå‘½ä»¤
â”‚   â”œâ”€â”€ config.ts                 # è¯»å†™ ~/.vibebetter/config.json
â”‚   â”œâ”€â”€ api-client.ts             # è½»é‡ HTTP å®¢æˆ·ç«¯ï¼ˆå¤ç”¨ API Key è®¤è¯ï¼‰
â”‚   â”œâ”€â”€ commands/
â”‚   â”‚   â”œâ”€â”€ init.ts               # vibe init
â”‚   â”‚   â”œâ”€â”€ check.ts              # vibe checkï¼ˆæ ¸å¿ƒå‘½ä»¤ï¼‰
â”‚   â”‚   â”œâ”€â”€ risk.ts               # vibe risk
â”‚   â”‚   â”œâ”€â”€ decisions.ts          # vibe decisions
â”‚   â”‚   â”œâ”€â”€ insights.ts           # vibe insights
â”‚   â”‚   â”œâ”€â”€ report.ts             # vibe report
â”‚   â”‚   â”œâ”€â”€ sync.ts               # vibe sync
â”‚   â”‚   â””â”€â”€ status.ts             # vibe status
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ display.ts            # ç»ˆç«¯è¾“å‡ºæ ¼å¼åŒ–ï¼ˆé¢œè‰²ã€è¡¨æ ¼ã€è¿›åº¦æ¡ï¼‰
â”‚       â””â”€â”€ git.ts                # æœ¬åœ° git çŠ¶æ€åˆ†æ
â””â”€â”€ tests/
    â””â”€â”€ commands.test.ts
```

### 2.3 ä¾èµ–é€‰æ‹©

| ç»„ä»¶             | é€‰æ‹©             | ç†ç”±                        |
| ---------------- | ---------------- | --------------------------- |
| å‘½ä»¤è¡Œè§£æ       | Commander.js     | æœ€æˆç†Ÿã€é›¶é…ç½®              |
| ç»ˆç«¯ç€è‰²         | picocolors       | é›¶ä¾èµ–ã€æå°ä½“ç§¯            |
| æœ¬åœ° Git åˆ†æ    | simple-git       | å·²åœ¨ server ä¸­ä½¿ç”¨ï¼ŒAPI ä¸€è‡´ |
| HTTP å®¢æˆ·ç«¯      | åŸç”Ÿ fetch       | Node 22 å†…ç½®ï¼Œæ— é¢å¤–ä¾èµ–    |
| é…ç½®å­˜å‚¨         | ~/.vibebetter/   | æ ‡å‡† CLI é…ç½®ç›®å½•           |

---

## ä¸‰ã€æ ¸å¿ƒå‘½ä»¤è¯¦ç»†è®¾è®¡

### `vibe check` â€” æäº¤å‰é£é™©æ£€æŸ¥

è¿™æ˜¯ CLI çš„**æ ¸å¿ƒå‘½ä»¤**ï¼Œåœ¨å¼€å‘è€… commit ä¹‹å‰è¿è¡Œã€‚

```
è¾“å…¥ï¼š
  1. è¯»å– git diff --stagedï¼ˆå¾…æäº¤çš„æ–‡ä»¶åˆ—è¡¨ï¼‰
  2. å¯¹æ¯ä¸ªæ–‡ä»¶æŸ¥è¯¢åç«¯ /files/top çš„é£é™©æ•°æ®
  3. å¦‚æœæ–‡ä»¶ä¸åœ¨å·²çŸ¥åˆ—è¡¨ä¸­ï¼Œæœ¬åœ°è®¡ç®—åŸºç¡€å¤æ‚åº¦

è¾“å‡ºï¼š
  1. æ¯ä¸ªæ–‡ä»¶çš„é£é™©ç­‰çº§ï¼ˆåŸºäº complexity Ã— changeFrequencyï¼‰
  2. AI ä»£ç å æ¯”æ ‡æ³¨
  3. æ•´ä½“é£é™©è¯„ä¼°
  4. è¡ŒåŠ¨å»ºè®®ï¼ˆå¦‚ï¼š"å»ºè®® Review metrics.ts çš„å˜æ›´"ï¼‰

å¯é›†æˆä¸º git hookï¼š
  # .git/hooks/pre-commit
  vibe check --strict  # å¦‚æœæœ‰ HIGH é£é™©æ–‡ä»¶åˆ™é˜»æ­¢æäº¤
```

### `vibe decisions` â€” å†³ç­–å»ºè®®

```
è¾“å…¥ï¼šè°ƒç”¨åç«¯ /decisions/projects/:id/decisions

è¾“å‡ºï¼š
  ğŸ“‹ Active Decisions â€” MyProject
  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  1. [WARNING] Hotspot files need attention
     3-10 hotspot files detected. Prioritize code reviews.
     â†’ Accept (a) | Dismiss (d) | Skip (s)
  
  2. [INFO] Expand AI usage
     AI coding is performing well. Consider expanding to more modules.
     â†’ Accept (a) | Dismiss (d) | Skip (s)

äº¤äº’ï¼šç”¨æˆ·å¯ä»¥åœ¨ç»ˆç«¯ç›´æ¥ Accept/Dismiss å†³ç­–ã€‚
```

### `vibe report` â€” å¥åº·æŠ¥å‘Š

```
è¾“å‡ºæ ¼å¼ï¼šmarkdownï¼ˆå¯ä»¥ç›´æ¥ç²˜è´´åˆ° PR æè¿°æˆ– Slackï¼‰

# AI Coding Health Report â€” MyProject
Generated: 2026-02-26

## Key Metrics
| Metric | Value | Benchmark |
|--------|-------|-----------|
| AI Success Rate | 84.2% | Good |
| AI Stable Rate | 89.5% | Good |
| PSRI Score | 0.15 | Excellent |
| TDI | 0.42 | Good |

## AI Attribution
- AI files avg complexity: 12.5 (Human: 15.3)
- AI major revision rate: 15.8% (Human: 0%)

## Top Risks
1. src/services/metrics.ts (Risk: HIGH)
2. src/collectors/github.ts (Risk: MEDIUM)

## Recommendations
- Expand AI usage in low-risk modules
- Review 3 hotspot files
```

---

## å››ã€éªŒè¯è½åœ°æ•ˆæœ

### 4.1 éªŒè¯åœºæ™¯

| åœºæ™¯                | éªŒè¯æ–¹æ³•                                              | æˆåŠŸæ ‡å‡†                    |
| ------------------- | ----------------------------------------------------- | --------------------------- |
| æäº¤å‰æ£€æŸ¥          | åœ¨ VibeBetter è‡ªå·±çš„ä»“åº“è¿è¡Œ `vibe check`             | è¾“å‡ºä¿®æ”¹æ–‡ä»¶çš„é£é™©ç­‰çº§       |
| å†³ç­–æŸ¥çœ‹            | è¿è¡Œ `vibe decisions`                                 | æ˜¾ç¤ºå½“å‰å†³ç­–å»ºè®®åˆ—è¡¨         |
| æŠ¥å‘Šç”Ÿæˆ            | è¿è¡Œ `vibe report --format markdown`                  | è¾“å‡ºå®Œæ•´ Markdown æŠ¥å‘Š       |
| é¡¹ç›®åŒæ­¥            | è¿è¡Œ `vibe sync`                                      | è§¦å‘åç«¯é‡‡é›† + è®¡ç®—          |
| Pre-commit hook     | é…ç½® hook å commit é«˜é£é™©æ–‡ä»¶                        | ç»ˆç«¯æ˜¾ç¤ºè­¦å‘Š                 |

### 4.2 åº¦é‡æŒ‡æ ‡

| æŒ‡æ ‡                   | ç›®æ ‡          | è¯´æ˜                              |
| ---------------------- | ------------- | --------------------------------- |
| `vibe check` å“åº”æ—¶é—´  | < 3 ç§’       | ä¸é˜»å¡å¼€å‘èŠ‚å¥                    |
| å‘½ä»¤è¦†ç›–ç‡             | 8 ä¸ªå‘½ä»¤      | init/check/risk/decisions/insights/report/sync/status |
| CLI æµ‹è¯•è¦†ç›–           | â‰¥ 10 æµ‹è¯•     | å‘½ä»¤è§£æ + è¾“å‡ºæ ¼å¼               |
| ç«¯åˆ°ç«¯éªŒè¯             | 3 ä¸ªåœºæ™¯      | check + decisions + report         |

---

## äº”ã€ç‰¹æ€§æ¸…å•

| #     | ç‰¹æ€§                     | è¯´æ˜                                          | é¢„ä¼° |
| ----- | ------------------------ | --------------------------------------------- | ---- |
| V8-01 | **CLI åŒ…éª¨æ¶**           | Commander.js + config + api-client             | 1d   |
| V8-02 | **vibe init**            | åˆå§‹åŒ–é…ç½®ï¼ˆAPI URL + API Key + Project IDï¼‰  | 0.5d |
| V8-03 | **vibe status**          | è¿æ¥çŠ¶æ€ + é¡¹ç›®ä¿¡æ¯ + æœ€è¿‘åŒæ­¥               | 0.5d |
| V8-04 | **vibe check**           | æ ¸å¿ƒï¼šgit diff åˆ†æ + é£é™©è¯„ä¼° + è¡ŒåŠ¨å»ºè®®     | 2d   |
| V8-05 | **vibe risk**            | æ–‡ä»¶çº§/é¡¹ç›®çº§ PSRI æŸ¥è¯¢                       | 0.5d |
| V8-06 | **vibe decisions**       | å†³ç­–å»ºè®®åˆ—è¡¨ + äº¤äº’å¼ Accept/Dismiss          | 1d   |
| V8-07 | **vibe insights**        | AI æˆæœç‡ + å·¥å…·ä½¿ç”¨æ‘˜è¦                      | 0.5d |
| V8-08 | **vibe report**          | å¥åº·æŠ¥å‘Šï¼ˆtext/markdown/jsonï¼‰                | 1d   |
| V8-09 | **vibe sync**            | è§¦å‘é‡‡é›† + è®¡ç®—                               | 0.5d |
| V8-10 | **CLI æµ‹è¯•**             | å‘½ä»¤è§£æ + è¾“å‡ºæ ¼å¼æµ‹è¯•                       | 1d   |
| V8-11 | **Pre-commit hook é›†æˆ** | æ–‡æ¡£ + ç¤ºä¾‹ï¼švibe check ä½œä¸º git hook         | 0.5d |
| V8-12 | **ç«¯åˆ°ç«¯éªŒè¯**           | åœ¨ VibeBetter ä»“åº“è‡ªèº«éªŒè¯ 3 ä¸ªåœºæ™¯           | 1d   |

---

## å…­ã€è¯„åˆ†ç›®æ ‡

| ç»´åº¦           | v0.7 ç°çŠ¶ | v0.8 ç›®æ ‡ | å…³é”®è·¯å¾„                      |
| -------------- | --------- | --------- | ----------------------------- |
| åŠŸèƒ½å®Œæˆåº¦     | 9.5/10    | **10/10** | CLI è¡¥é½åœºæ™¯åŒ–è½åœ°æœ€åä¸€ç¯    |
| ä»£ç è´¨é‡       | 9/10      | 9/10      | CLI æµ‹è¯•è¦†ç›–                  |
| æ¶æ„åˆç†æ€§     | 9.5/10    | 9.5/10    | CLI å¤ç”¨ shared types         |
| **ç”¨æˆ·ä½“éªŒ**   | 9/10      | **9.5/10**| CLI åµŒå…¥å·¥ä½œæµ = ä½“éªŒè·ƒå‡     |
| å®‰å…¨æ€§         | 8/10      | 8/10      | API Key è®¤è¯                  |
| æ€§èƒ½           | 8.5/10    | 8.5/10    | check < 3s                    |
| æ–‡æ¡£å®Œå¤‡åº¦     | 9/10      | 9/10      | CLI README + --help           |
| åä½œæ•ˆç‡       | 9/10      | 9/10      | ä¿æŒ                          |
| **ç»¼åˆç›®æ ‡**   | **9.0**   | **9.3+**  |                               |
