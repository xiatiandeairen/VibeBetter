# 迭代归档：Iteration-005（v0.4.0）

## 基本信息

| 字段     | 值                |
| -------- | ----------------- |
| 迭代编号 | Iteration-005     |
| 时间     | 2026-02-26        |
| 版本     | v0.4.0            |
| 状态     | ✅ 已完成          |

## 完成特性

| Feature | 名称                | 优先级 | 状态 |
| ------- | ------------------- | ------ | ---- |
| F-01    | GitHub OAuth SSO    | P0     | ✅ 代码就绪（需配置 Client ID/Secret） |
| F-02    | GitHub Webhook      | P0     | ✅ 完成（PR merge 自动重算） |
| F-03    | 自动首次采集        | P0     | ✅ 完成 |
| F-05    | PSRI 下钻           | P1     | ✅ 完成（三层面包屑导航） |
| F-06    | 趋势对比            | P1     | ✅ 完成（双时间段对比） |
| F-08    | PR 详情页           | P1     | ✅ 完成（内联展开） |
| F-09    | 文件详情页          | P1     | ✅ 完成（搜索+风险分级） |
| F-12    | CORS 白名单         | P2     | ✅ 完成 |
| F-13    | Rate Limiting       | P2     | ✅ 完成（10req/min auth） |
| F-16    | Pino 结构化日志     | P2     | ✅ 完成 |
| F-17    | Zustand 全局状态    | P3     | ✅ 完成（persist middleware） |
| F-18    | CSV 导出            | P3     | ✅ 完成 |

### 未完成特性（记录原因）

| Feature | 名称                | 原因 |
| ------- | ------------------- | ---- |
| F-04    | PR 风险回写         | 需要 GitHub API write 权限 token |
| F-07    | 风险传播图          | 需要依赖关系数据（AST 分析），复杂度高 |
| F-10    | Refresh Token       | 中等优先级，v0.5 处理 |
| F-11    | httpOnly Cookie     | 需要与 Refresh Token 一起实现 |
| F-14    | API 集成测试        | 部分完成（Schema 验证测试），需要测试 DB |
| F-15    | Playwright E2E      | 需要额外基础设施 |
| F-19    | 通知/告警           | 需要外部服务（邮件/Slack）|
| F-20    | 国际化              | 工作量大，v0.5 处理 |

**完成率**：12/20 = 60%（4 个因外部依赖跳过，4 个因复杂度延后）

## 评分

| 维度           | v0.3  | v0.4  | 变化  |
| -------------- | ----- | ----- | ----- |
| 功能完成度     | 8     | 9     | +1    |
| 代码质量       | 6.5   | 7.5   | +1    |
| 架构合理性     | 7     | 8     | +1    |
| 用户体验       | 8     | 8     | -     |
| 安全性         | 3     | **6** | **+3**|
| 性能           | 7     | 7     | -     |
| 文档完备度     | 8     | 8.5   | +0.5  |
| 协作效率       | 9     | 9     | -     |
| **综合得分**   | 7.15  | **7.85** | **+0.7** |
