# AI Coding 多维度评分标准

## 评分维度

每个迭代结束时，按以下 8 个维度进行 1-10 分评分。

### 1. 功能完成度（Feature Completeness）

| 分数 | 标准                                            |
| ---- | ----------------------------------------------- |
| 9-10 | 所有需求 100% 完成，含边界情况和异常处理        |
| 7-8  | 核心需求完成，少量边界情况未覆盖                |
| 5-6  | 核心需求基本完成，部分功能有明显缺失            |
| 3-4  | 仅完成部分核心需求                              |
| 1-2  | 几乎未完成                                      |

**行业参考**：成熟产品迭代功能完成度通常在 85-95%。

### 2. 代码质量（Code Quality）

| 分数 | 标准                                            |
| ---- | ----------------------------------------------- |
| 9-10 | 零 lint 错误，测试覆盖率 > 80%，无代码异味      |
| 7-8  | 零 lint 错误，测试覆盖率 > 60%，少量代码异味    |
| 5-6  | 少量 lint 警告，测试覆盖率 > 40%                |
| 3-4  | 多处 lint 错误，测试覆盖率 < 30%                |
| 1-2  | 大量错误，几乎无测试                            |

**行业参考**：Google 内部要求测试覆盖率 > 80%，SonarQube Quality Gate 默认 80%。

### 3. 架构合理性（Architecture Quality）

| 分数 | 标准                                            |
| ---- | ----------------------------------------------- |
| 9-10 | 分层清晰，职责单一，扩展性好，无循环依赖        |
| 7-8  | 分层基本合理，部分耦合可接受                    |
| 5-6  | 存在明显的层级穿透或职责混乱                    |
| 3-4  | 架构混乱，难以维护                              |
| 1-2  | 无架构可言                                      |

### 4. 用户体验（User Experience）

| 分数 | 标准                                            |
| ---- | ----------------------------------------------- |
| 9-10 | 流畅直觉，零学习成本，视觉精致，交互丰富        |
| 7-8  | 易用，视觉良好，部分交互可优化                  |
| 5-6  | 基本可用，但存在明显的 UX 问题                  |
| 3-4  | 难用，界面粗糙                                  |
| 1-2  | 几乎不可用                                      |

### 5. 安全性（Security）

| 分数 | 标准                                            |
| ---- | ----------------------------------------------- |
| 9-10 | OAuth/RBAC/CSRF/输入校验/加密存储 全覆盖        |
| 7-8  | 认证安全，输入校验完善，部分高级防护缺失        |
| 5-6  | 基础认证可用，部分安全隐患                      |
| 3-4  | 明显安全漏洞                                    |
| 1-2  | 无安全措施                                      |

### 6. 性能（Performance）

| 分数 | 标准                                            |
| ---- | ----------------------------------------------- |
| 9-10 | 页面加载 < 1s，API < 100ms，支持万级并发        |
| 7-8  | 页面加载 < 2s，API < 300ms，百级并发正常        |
| 5-6  | 页面加载 < 3s，API < 1s，可感知延迟             |
| 3-4  | 明显卡顿，频繁超时                              |
| 1-2  | 不可用                                          |

### 7. 文档完备度（Documentation）

| 分数 | 标准                                            |
| ---- | ----------------------------------------------- |
| 9-10 | README + API 文档 + 架构文档 + 贡献指南 + 变更日志 |
| 7-8  | README + 核心文档齐全                           |
| 5-6  | 基础 README，部分文档缺失                       |
| 3-4  | 文档稀缺                                       |
| 1-2  | 无文档                                          |

### 8. 协作效率（Collaboration Efficiency）

| 分数 | 标准                                            |
| ---- | ----------------------------------------------- |
| 9-10 | 需求理解准确，一次完成率 > 90%，沟通成本极低    |
| 7-8  | 理解基本准确，少量返工                          |
| 5-6  | 部分误解，需要中间确认                          |
| 3-4  | 频繁误解，返工率高                              |
| 1-2  | 无法有效协作                                    |

---

## 综合评分公式

```
总分 = Σ(维度分数 × 权重) / Σ(权重)

默认权重:
  功能完成度: 0.20
  代码质量:   0.15
  架构合理性: 0.15
  用户体验:   0.15
  安全性:     0.10
  性能:       0.10
  文档完备度: 0.05
  协作效率:   0.10
```

---

## 当前迭代评分（Iteration 001）

| 维度           | 分数    | 权重 | 加权分 | 说明                                    |
| -------------- | ------- | ---- | ------ | --------------------------------------- |
| 功能完成度     | 7/10    | 0.20 | 1.40   | P0/P1/P2 核心后端完成，前端接入待补     |
| 代码质量       | 6/10    | 0.15 | 0.90   | 29 测试，lint 通过，但覆盖率不够        |
| 架构合理性     | 7/10    | 0.15 | 1.05   | Service 层+错误处理+插件化              |
| 用户体验       | 7/10    | 0.15 | 1.05   | 暗色主题精致，但交互深度不够            |
| 安全性         | 3/10    | 0.10 | 0.30   | JWT 基础认证，缺 OAuth/RBAC/CSRF        |
| 性能           | 6/10    | 0.10 | 0.60   | 页面 < 3s，API < 300ms，缺缓存         |
| 文档完备度     | 7/10    | 0.05 | 0.35   | README+spec+plan+analysis 齐全          |
| 协作效率       | 8/10    | 0.10 | 0.80   | 大批量任务高效执行，少量 API 对齐返工   |
| **综合得分**   |         |      | **6.45/10** |                                    |

### 各维度不足分析

1. **功能完成度 (7/10)**：后端 API 已就绪（决策/权重/行为），但前端未接入这些新 API，用户无法通过 UI 使用。
2. **代码质量 (6/10)**：测试集中在 MetricsService，Auth/Project/Collector 路由零测试。
3. **安全性 (3/10)**：最大短板。JWT 在 localStorage，CORS 全开，无 RBAC 粒度检查。
4. **性能 (6/10)**：无 Redis 缓存，ECharts 全量加载（~450KB）。
