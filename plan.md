# AEIP å®æ–½è®¡åˆ’

---

## 1. æŠ€æœ¯æ ˆç¡®è®¤

### 1.1 æœ€ç»ˆæŠ€æœ¯æ ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Frontend                             â”‚
â”‚  Next.js 14+ (App Router) Â· TypeScript Â· Tailwind CSS    â”‚
â”‚  shadcn/ui Â· Apache ECharts Â· React Query                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      Backend                              â”‚
â”‚  Node.js Â· TypeScript Â· Express / Hono                   â”‚
â”‚  Prisma ORM Â· BullMQ Â· Zod                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Infrastructure                         â”‚
â”‚  PostgreSQL Â· Redis Â· Docker Â· pnpm monorepo             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 æ ¸å¿ƒæŠ€æœ¯é€‰å‹è¯´æ˜

| å±‚      | æŠ€æœ¯           | è¯´æ˜                                                        |
| ------- | -------------- | ----------------------------------------------------------- |
| å‰ç«¯    | Next.js 14+    | App Routerï¼›Dashboard SSR/CSR æ··åˆæ¸²æŸ“                      |
| UI      | shadcn/ui      | Radix åŸè¯­ + Tailwindï¼›é«˜å®šåˆ¶æ€§                             |
| å›¾è¡¨    | Apache ECharts | çƒ­åŠ›å›¾/åŠ›å¯¼å‘å›¾/æ¡‘åŸºå›¾åŸç”Ÿæ”¯æŒï¼›echarts-for-react å°è£…      |
| åç«¯    | Node.js + TS   | å…¨æ ˆç»Ÿä¸€è¯­è¨€ï¼›å‰åç«¯ç±»å‹å…±äº«ï¼›å¼‚æ­¥ I/O é€‚åˆæ•°æ®é‡‡é›†         |
| æ¡†æ¶    | Hono           | è½»é‡é«˜æ€§èƒ½ï¼›Edge-readyï¼›ä¸­é—´ä»¶ç”Ÿæ€å¥½ï¼›ç±»å‹å®‰å…¨ä¼˜äº Express  |
| ORM     | Prisma         | ç±»å‹å®‰å…¨çš„æ•°æ®åº“è®¿é—®ï¼›è¿ç§»ç®¡ç†ï¼›ä¸ TypeScript æ·±åº¦é›†æˆ      |
| æ ¡éªŒ    | Zod            | Runtime ç±»å‹æ ¡éªŒï¼›ä¸ Prisma/tRPC æ— ç¼é…åˆ                   |
| ä»»åŠ¡é˜Ÿåˆ— | BullMQ        | åŸºäº Redisï¼›æ”¯æŒå»¶è¿Ÿ/é‡è¯•/å®šæ—¶ä»»åŠ¡ï¼›æ›¿ä»£ Celery             |
| æ•°æ®åº“  | PostgreSQL     | ä¸»å­˜å‚¨ï¼›JSONB æ”¯æŒçµæ´» Schemaï¼›å¯æ‰©å±• TimescaleDB           |
| ç¼“å­˜    | Redis          | API ç¼“å­˜ + BullMQ Broker + ä¼šè¯å­˜å‚¨                         |
| å›¾åˆ†æ  | graphology     | TypeScript åŸç”Ÿå›¾åº“ï¼›æ›¿ä»£ NetworkXï¼›ä¸­å¿ƒåº¦/éå†/ç¤¾åŒºæ£€æµ‹    |
| åŒ…ç®¡ç†  | pnpm           | workspace monorepoï¼›ç£ç›˜é«˜æ•ˆï¼›ä¾èµ–ä¸¥æ ¼                      |

### 1.3 Monorepo ç»“æ„

```
vibebetter/
â”œâ”€â”€ package.json                  # workspace æ ¹é…ç½®
â”œâ”€â”€ pnpm-workspace.yaml
â”œâ”€â”€ turbo.json                    # Turborepo æ„å»ºç¼–æ’
â”œâ”€â”€ docker-compose.yml            # æœ¬åœ°å¼€å‘ç¯å¢ƒ
â”œâ”€â”€ .env.example
â”œâ”€â”€ .eslintrc.js                  # å…±äº« lint é…ç½®
â”œâ”€â”€ .prettierrc                   # å…±äº«æ ¼å¼åŒ–é…ç½®
â”œâ”€â”€ tsconfig.base.json            # å…±äº« TS é…ç½®
â”‚
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ shared/                   # å‰åç«¯å…±äº«åŒ…
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ types/            # å…±äº«ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ constants/        # å…±äº«å¸¸é‡
â”‚   â”‚   â”‚   â”œâ”€â”€ schemas/          # Zod æ ¡éªŒ Schemaï¼ˆå‰åç«¯å¤ç”¨ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ utils/            # çº¯å‡½æ•°å·¥å…·
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ tsconfig.json
â”‚   â”‚
â”‚   â””â”€â”€ db/                       # æ•°æ®åº“åŒ…
â”‚       â”œâ”€â”€ prisma/
â”‚       â”‚   â”œâ”€â”€ schema.prisma     # Prisma Schema
â”‚       â”‚   â””â”€â”€ migrations/
â”‚       â”œâ”€â”€ seed/                  # ç§å­æ•°æ®
â”‚       â”œâ”€â”€ package.json
â”‚       â””â”€â”€ tsconfig.json
â”‚
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ web/                      # Next.js å‰ç«¯
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ app/              # App Router é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ components/       # UI ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ lib/              # å·¥å…·/hooks/api
â”‚   â”‚   â”‚   â””â”€â”€ styles/           # å…¨å±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â”œâ”€â”€ next.config.ts
â”‚   â”‚   â”œâ”€â”€ tailwind.config.ts
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ tsconfig.json
â”‚   â”‚
â”‚   â””â”€â”€ server/                   # Node.js åç«¯
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ index.ts          # å…¥å£
â”‚       â”‚   â”œâ”€â”€ config/           # é…ç½®ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ routes/           # API è·¯ç”±ï¼ˆv1/ï¼‰
â”‚       â”‚   â”œâ”€â”€ middleware/       # ä¸­é—´ä»¶
â”‚       â”‚   â”œâ”€â”€ services/         # ä¸šåŠ¡é€»è¾‘å±‚
â”‚       â”‚   â”œâ”€â”€ collectors/       # æ•°æ®é‡‡é›†é€‚é…å™¨
â”‚       â”‚   â”œâ”€â”€ engines/          # æŒ‡æ ‡/é£é™©/å†³ç­–å¼•æ“
â”‚       â”‚   â”œâ”€â”€ jobs/             # BullMQ ä»»åŠ¡å®šä¹‰
â”‚       â”‚   â””â”€â”€ utils/            # åç«¯å·¥å…·
â”‚       â”œâ”€â”€ package.json
â”‚       â””â”€â”€ tsconfig.json
â”‚
â”œâ”€â”€ docs/                         # æ–‡æ¡£å½’æ¡£
â”‚   â”œâ”€â”€ spec.md
â”‚   â”œâ”€â”€ research.md
â”‚   â”œâ”€â”€ plan.md
â”‚   â”œâ”€â”€ adr/                      # æ¶æ„å†³ç­–è®°å½•
â”‚   â””â”€â”€ changelog/                # ç‰ˆæœ¬å˜æ›´æ—¥å¿—
â”‚
â””â”€â”€ scripts/                      # å¼€å‘è„šæœ¬
    â”œâ”€â”€ setup.sh
    â””â”€â”€ seed.ts
```

---

## 2. æ•°æ®æºæ¶æ„è®¾è®¡

### 2.1 ä¸‰å±‚æ•°æ®æºæ¨¡å‹

å¹³å°æ•°æ®æºä¸ä»…åŒ…å«è¿œç«¯å¹³å°ï¼ˆGitHub/Jira/SonarQubeï¼‰ï¼Œè¿˜é¡»è¦†ç›–**æœ¬åœ°å¼€å‘è¡Œä¸º**å’Œ**æœ¬åœ° Git æ•°æ®**ï¼Œå¹¶ä¸ºæœªæ¥æ–°æ•°æ®æºç•™å‡ºæ‰©å±•ç©ºé—´ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Data Source Layer                           â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Remote     â”‚  â”‚    Local         â”‚  â”‚    Futureï¼ˆç•™ç™½ï¼‰    â”‚ â”‚
â”‚  â”‚   Sources    â”‚  â”‚    Sources       â”‚  â”‚                      â”‚ â”‚
â”‚  â”‚             â”‚  â”‚                 â”‚  â”‚  Â· CI/CD Metrics     â”‚ â”‚
â”‚  â”‚  Â· GitHub   â”‚  â”‚  Â· Local Git    â”‚  â”‚  Â· APM (Datadog)     â”‚ â”‚
â”‚  â”‚  Â· GitLab   â”‚  â”‚  Â· IDE Plugin   â”‚  â”‚  Â· Custom Webhook    â”‚ â”‚
â”‚  â”‚  Â· Jira     â”‚  â”‚  Â· File System  â”‚  â”‚  Â· Slack Activity    â”‚ â”‚
â”‚  â”‚  Â· Sonar    â”‚  â”‚  Â· Dev Session  â”‚  â”‚  Â· Meeting Data      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                â”‚                        â”‚              â”‚
â”‚         â–¼                â–¼                        â–¼              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              Unified Collector Interface                  â”‚    â”‚
â”‚  â”‚         IDataCollector<TRawEvent, TConfig>                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚                                    â”‚
â”‚                             â–¼                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              Normalized Event Store                       â”‚    â”‚
â”‚  â”‚         { source, type, payload, timestamp, meta }        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æœ¬åœ°æ•°æ®æºè¯¦ç»†è®¾è®¡

#### æœ¬åœ° Git æ•°æ®

| é‡‡é›†é¡¹             | é‡‡é›†æ–¹å¼                       | è¯´æ˜                                            |
| ------------------ | ------------------------------ | ----------------------------------------------- |
| æäº¤å†å²           | `simple-git` åº“è§£æ            | é¢‘ç‡ã€å¤§å°ã€æ—¶é—´åˆ†å¸ƒ                            |
| åˆ†æ”¯è¡Œä¸º           | æœ¬åœ° .git ç›®å½•åˆ†æ             | åˆ†æ”¯ç”Ÿå‘½å‘¨æœŸã€åˆå¹¶æ¨¡å¼                          |
| æ–‡ä»¶å˜æ›´çƒ­åº¦       | `git log --numstat` è§£æ       | è¿‡å» N å¤©æ¯ä¸ªæ–‡ä»¶çš„å˜æ›´é¢‘ç‡                     |
| ä»£ç å½’å±           | `git blame` è§£æ               | AI ç”Ÿæˆ vs äººå·¥ç¼–å†™çš„ä»£ç è¡Œå½’å±                 |
| Diff åˆ†æ          | æœ¬åœ° diff è§£æ                 | å˜æ›´çš„å¤æ‚åº¦ã€å½±å“èŒƒå›´                          |

#### æœ¬åœ°å¼€å‘è¡Œä¸º

| é‡‡é›†é¡¹           | é‡‡é›†æ–¹å¼                 | è¯´æ˜                                    |
| ---------------- | ------------------------ | --------------------------------------- |
| AI å·¥å…·ä½¿ç”¨      | IDE æ’ä»¶ Telemetry       | Copilot/Cursor ç”Ÿæˆæ¬¡æ•°ã€é‡‡çº³ç‡         |
| ç¼–ç ä¼šè¯         | IDE æ’ä»¶ Session Track   | ç¼–ç æ—¶é•¿ã€æ–‡ä»¶åˆ‡æ¢é¢‘ç‡ã€Debug æ—¶é•¿      |
| é‡æ–°ç”Ÿæˆè¡Œä¸º     | IDE æ’ä»¶äº‹ä»¶             | regenerate_countã€prompt å˜åŒ–           |
| ç¼–è¾‘è·ç¦»         | æœ¬åœ° Diff å¯¹æ¯”           | AI ç”Ÿæˆä»£ç  vs æœ€ç»ˆæäº¤ä»£ç çš„å·®å¼‚åº¦     |
| æ–‡ä»¶å¤æ‚åº¦       | æœ¬åœ° AST/Lizard åˆ†æ     | æ— éœ€ä¾èµ–è¿œç«¯ SonarQube çš„ç¦»çº¿åˆ†æ       |

### 2.3 Collector æ‰©å±•æ¶æ„

```typescript
// ç»Ÿä¸€é‡‡é›†å™¨æ¥å£ â€” æ‰€æœ‰æ•°æ®æºå¿…é¡»å®ç°
interface IDataCollector<TConfig = unknown> {
  readonly source: DataSourceType;       // 'github' | 'local_git' | 'ide' | ...
  readonly category: 'remote' | 'local' | 'hybrid';

  initialize(config: TConfig): Promise<void>;
  collect(params: CollectParams): Promise<NormalizedEvent[]>;
  healthCheck(): Promise<HealthStatus>;
  dispose(): Promise<void>;
}

// æ•°æ®æºæ³¨å†Œè¡¨ â€” è¿è¡Œæ—¶æ³¨å†Œæ–°æ•°æ®æºæ— éœ€æ”¹åŠ¨æ ¸å¿ƒä»£ç 
class CollectorRegistry {
  register(source: DataSourceType, factory: CollectorFactory): void;
  get(source: DataSourceType): IDataCollector;
  listAll(): DataSourceType[];
}
```

**æ‰©å±•æ–°æ•°æ®æºçš„æ­¥éª¤ï¼š**

1. å®ç° `IDataCollector` æ¥å£
2. åœ¨ `CollectorRegistry` ä¸­æ³¨å†Œ
3. æ·»åŠ å¯¹åº”çš„ config schemaï¼ˆZodï¼‰
4. ç¼–å†™å•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯•
5. åœ¨ Dashboard æ•°æ®æºç®¡ç†é¡µé¢å¯è§

### 2.4 æœªæ¥æ•°æ®æºç•™ç™½

| é¢„ç•™æ•°æ®æº         | ä¼˜å…ˆçº§ | æ¥å…¥éš¾åº¦ | ä»·å€¼                          |
| ------------------ | ------ | -------- | ----------------------------- |
| CI/CD Pipeline     | P1     | ä½       | æ„å»ºæ—¶é•¿ã€å¤±è´¥ç‡ã€éƒ¨ç½²é¢‘ç‡    |
| APM (Datadogç­‰)    | P2     | ä¸­       | è¿è¡ŒæœŸé”™è¯¯ç‡ã€å»¶è¿Ÿã€SLA       |
| Slack/Teams        | P3     | ä½       | æ²Ÿé€šæ¨¡å¼ä¸ä»£ç è´¨é‡ç›¸å…³æ€§      |
| ä¼šè®®/æ—¥å†æ•°æ®      | P3     | ä¸­       | éœ€æ±‚è®¨è®ºé¢‘æ¬¡ä¸ç¼ºé™·ç‡å…³è”      |
| è‡ªå®šä¹‰ Webhook     | P1     | ä½       | å…è®¸ç”¨æˆ·æ¨é€ä»»æ„ç»“æ„åŒ–æ•°æ®    |

> æ¶æ„åŸåˆ™ï¼šæ ¸å¿ƒå¤„ç†ç®¡é“ï¼ˆNormalized Event â†’ Metrics Engineï¼‰ä¸æ•°æ®æºè§£è€¦ã€‚æ–°å¢æ•°æ®æºåªéœ€å®ç° Adapterï¼Œä¸è§¦ç¢°è®¡ç®—å±‚ã€‚

---

## 3. ä»»åŠ¡æ‹†åˆ†ä¸é‡Œç¨‹ç¢‘éªŒè¯æ¸…å•

### 3.1 æ‹†åˆ†åŸåˆ™

| åŸåˆ™             | è¯´æ˜                                                         |
| ---------------- | ------------------------------------------------------------ |
| å‚ç›´åˆ‡ç‰‡         | æ¯ä¸ªä»»åŠ¡åŒ…å«ä» DB â†’ API â†’ UI çš„å®Œæ•´åŠŸèƒ½åˆ‡ç‰‡ï¼Œå¯ç‹¬ç«‹éªŒè¯      |
| æœ€å¤§ 2 å¤©ç²’åº¦    | å•ä¸ªä»»åŠ¡ä¸è¶…è¿‡ 2 ä¸ªå·¥ä½œæ—¥ï¼Œè¶…è¿‡åˆ™ç»§ç»­æ‹†åˆ†                    |
| å¯éªŒè¯           | æ¯ä¸ªä»»åŠ¡æœ‰æ˜ç¡®çš„éªŒæ”¶æ¡ä»¶å’ŒéªŒè¯æ–¹å¼                            |
| åŠŸèƒ½èšåˆæäº¤     | åŒä¸€åŠŸèƒ½çš„å¤šæ¬¡æ”¹åŠ¨èšåˆä¸ºä¸€ä¸ªé€»è¾‘ commit                      |

### 3.2 MVP è¯¦ç»†ä»»åŠ¡æ‹†åˆ†

#### Sprint 0ï¼šé¡¹ç›®åˆå§‹åŒ–ï¼ˆ3 å¤©ï¼‰

| #    | ä»»åŠ¡                        | éªŒè¯æ¸…å•                                                | é¢„ä¼°  |
| ---- | --------------------------- | ------------------------------------------------------- | ----- |
| S0-1 | Monorepo è„šæ‰‹æ¶æ­å»º        | âœ… `pnpm install` æˆåŠŸ âœ… `pnpm build` å…¨åŒ…ç¼–è¯‘é€šè¿‡      | 0.5d  |
| S0-2 | TypeScript + ESLint + Prettier é…ç½® | âœ… `pnpm lint` é›¶é”™è¯¯ âœ… `pnpm format` æ— æ”¹åŠ¨    | 0.5d  |
| S0-3 | Docker Compose ç¯å¢ƒ         | âœ… `docker compose up` å¯åŠ¨ PG+Redis âœ… è¿æ¥æµ‹è¯•é€šè¿‡      | 0.5d  |
| S0-4 | Prisma Schema åˆå§‹åŒ–        | âœ… `prisma migrate dev` æˆåŠŸ âœ… ç§å­æ•°æ®å†™å…¥              | 0.5d  |
| S0-5 | CI æµæ°´çº¿æ­å»º               | âœ… lint + test + build ä¸‰é˜¶æ®µé€šè¿‡ âœ… PR è‡ªåŠ¨è§¦å‘           | 0.5d  |
| S0-6 | å…±äº«åŒ… (shared) åŸºç¡€ç»“æ„    | âœ… ç±»å‹å®šä¹‰å¯åœ¨ web/server ä¸­ import âœ… Zod schema å¯å¤ç”¨  | 0.5d  |

**Sprint 0 Gateï¼š** `pnpm dev` å¯åŠ¨å‰åç«¯ + æ•°æ®åº“å¯è¿æ¥ + CI ç»¿ç¯ã€‚

---

#### Sprint 1ï¼šè®¤è¯ä¸é¡¹ç›®ç®¡ç†ï¼ˆ4 å¤©ï¼‰

| #    | ä»»åŠ¡                         | éªŒè¯æ¸…å•                                                    | é¢„ä¼°  |
| ---- | ---------------------------- | ----------------------------------------------------------- | ----- |
| S1-1 | ç”¨æˆ·æ³¨å†Œ/ç™»å½• API            | âœ… POST /auth/register 201 âœ… POST /auth/login è¿”å› JWT      | 1d    |
| S1-2 | JWT ä¸­é—´ä»¶ + é‰´æƒå®ˆå«        | âœ… æ—  Token è¿”å› 401 âœ… è¿‡æœŸ Token è¿”å› 401 âœ… æœ‰æ•ˆ Token æ”¾è¡Œ | 0.5d  |
| S1-3 | ç™»å½•/æ³¨å†Œå‰ç«¯é¡µé¢            | âœ… è¡¨å•æ ¡éªŒ âœ… ç™»å½•åè·³è½¬ Dashboard âœ… Token æŒä¹…åŒ–            | 1d    |
| S1-4 | é¡¹ç›® CRUD API                | âœ… å¢åˆ æ”¹æŸ¥å››ä¸ªç«¯ç‚¹ âœ… å±äºå½“å‰ç”¨æˆ·çš„é¡¹ç›®éš”ç¦»                   | 0.5d  |
| S1-5 | é¡¹ç›®ç®¡ç†å‰ç«¯é¡µé¢             | âœ… é¡¹ç›®åˆ—è¡¨ âœ… åˆ›å»ºé¡¹ç›®è¡¨å• âœ… é¡¹ç›®è¯¦æƒ…é¡µéª¨æ¶                   | 1d    |

**Sprint 1 Gateï¼š** ç”¨æˆ·å¯æ³¨å†Œ â†’ ç™»å½• â†’ åˆ›å»ºé¡¹ç›® â†’ çœ‹åˆ°é¡¹ç›®è¯¦æƒ…é¡µã€‚

---

#### Sprint 2ï¼šæ•°æ®é‡‡é›†æ ¸å¿ƒï¼ˆ5 å¤©ï¼‰

| #    | ä»»åŠ¡                               | éªŒè¯æ¸…å•                                                        | é¢„ä¼°  |
| ---- | ---------------------------------- | --------------------------------------------------------------- | ----- |
| S2-1 | Collector æ¥å£ä¸æ³¨å†Œè¡¨              | âœ… IDataCollector ç±»å‹å®šä¹‰ âœ… Registry æ³¨å†Œ/è·å–æµ‹è¯•é€šè¿‡          | 0.5d  |
| S2-2 | GitHub Collector â€” PR æ•°æ®          | âœ… æ‹‰å– PR åˆ—è¡¨ âœ… commits/files/reviews å†™å…¥ DB âœ… å¹‚ç­‰æµ‹è¯•é€šè¿‡  | 1.5d  |
| S2-3 | Local Git Collector â€” æäº¤å†å²      | âœ… è§£ææœ¬åœ° .git âœ… commit é¢‘ç‡/ä½œè€…/æ–‡ä»¶å˜æ›´å†™å…¥ DB              | 1d    |
| S2-4 | AI è¡Œä¸ºæ ‡è®°è¯†åˆ«                     | âœ… PR label åŒ¹é… âœ… commit message å…³é”®è¯åŒ¹é… âœ… ai_used å­—æ®µå†™å…¥ | 0.5d  |
| S2-5 | BullMQ å®šæ—¶é‡‡é›†ä»»åŠ¡                 | âœ… å®šæ—¶è§¦å‘ âœ… ä»»åŠ¡æ—¥å¿—å¯è¿½è¸ª âœ… å¤±è´¥é‡è¯• 3 æ¬¡                     | 0.5d  |
| S2-6 | é‡‡é›†çŠ¶æ€ API + å‰ç«¯å±•ç¤º             | âœ… é‡‡é›†è¿›åº¦å¯æŸ¥è¯¢ âœ… å‰ç«¯æ˜¾ç¤ºæœ€è¿‘é‡‡é›†æ—¶é—´å’ŒçŠ¶æ€                    | 1d    |

**Sprint 2 Gateï¼š** æ¥å…¥ä¸€ä¸ª GitHub ä»“åº“ â†’ æˆåŠŸé‡‡é›† PR æ•°æ® â†’ æ•°æ®åº“å¯æŸ¥è¯¢ â†’ å‰ç«¯æ˜¾ç¤ºé‡‡é›†çŠ¶æ€ã€‚

---

#### Sprint 3ï¼šæŒ‡æ ‡è®¡ç®—å¼•æ“ï¼ˆ4 å¤©ï¼‰

| #    | ä»»åŠ¡                            | éªŒè¯æ¸…å•                                                      | é¢„ä¼°  |
| ---- | ------------------------------- | ------------------------------------------------------------- | ----- |
| S3-1 | AI Success Rate è®¡ç®—             | âœ… å…¬å¼æ­£ç¡® âœ… è¾¹ç•Œç”¨ä¾‹ï¼ˆ0 PR / å…¨éƒ¨æˆåŠŸï¼‰âœ… API è¿”å›æ­£ç¡®        | 0.5d  |
| S3-2 | AI Stable Rate è®¡ç®—              | âœ… å…¬å¼æ­£ç¡® âœ… å›æ»šæ ‡è®°è¯†åˆ« âœ… API è¿”å›æ­£ç¡®                      | 0.5d  |
| S3-3 | æ–‡ä»¶å¤æ‚åº¦è®¡ç®—                   | âœ… æœ¬åœ° AST åˆ†ææˆ– Lizard è°ƒç”¨ âœ… æ–‡ä»¶çº§æŒ‡æ ‡å†™å…¥ DB             | 1d    |
| S3-4 | åŸºç¡€ PSRI è®¡ç®—ï¼ˆ3 ç»´åº¦ï¼‰         | âœ… æƒé‡å¯é…ç½® âœ… å­ç»´åº¦å¯è¿½æº¯ âœ… ç»“æœå†™å…¥ DB + å†å²è®°å½•          | 1d    |
| S3-5 | æŒ‡æ ‡ API ç«¯ç‚¹                    | âœ… GET /metrics/ai-success-rate âœ… GET /metrics/psri âœ… æ”¯æŒæ—¶é—´èŒƒå›´ | 0.5d |
| S3-6 | æŒ‡æ ‡è®¡ç®—å•å…ƒæµ‹è¯•                 | âœ… è¦†ç›–ç‡ â‰¥ 80% âœ… è¾¹ç•Œç”¨ä¾‹è¦†ç›–                                 | 0.5d  |

**Sprint 3 Gateï¼š** åŸºäºå·²é‡‡é›†æ•°æ®è®¡ç®—å‡º AI æˆæœç‡ + PSRI â†’ API å¯æŸ¥è¯¢ â†’ å•æµ‹è¦†ç›– â‰¥ 80%ã€‚

---

#### Sprint 4ï¼šDashboard æ ¸å¿ƒé¢æ¿ï¼ˆ5 å¤©ï¼‰

| #    | ä»»åŠ¡                                | éªŒè¯æ¸…å•                                                    | é¢„ä¼°  |
| ---- | ----------------------------------- | ----------------------------------------------------------- | ----- |
| S4-1 | Dashboard å¸ƒå±€æ¡†æ¶                   | âœ… ä¾§è¾¹æ  + é¡¶æ  + å†…å®¹åŒº âœ… å“åº”å¼é€‚é… âœ… æš—è‰²/äº®è‰²ä¸»é¢˜      | 1d    |
| S4-2 | AI ä½¿ç”¨æ¦‚è§ˆé¢æ¿                      | âœ… Success Rate æ•°å­—å¡ç‰‡ âœ… è¶‹åŠ¿æŠ˜çº¿å›¾ âœ… æ—¶é—´èŒƒå›´é€‰æ‹©å™¨        | 1d    |
| S4-3 | æ–‡ä»¶å¤æ‚åº¦ Top 10                    | âœ… æ’åºè¡¨æ ¼ âœ… ç‚¹å‡»è·³è½¬æ–‡ä»¶è¯¦æƒ… âœ… å¤æ‚åº¦å˜åŒ–è¶‹åŠ¿               | 0.5d  |
| S4-4 | PSRI é£é™©è¶‹åŠ¿å›¾                      | âœ… æŠ˜çº¿å›¾å±•ç¤ºå†å² PSRI âœ… å­ç»´åº¦å †å é¢ç§¯å›¾ âœ… æ•°æ®ä¸‹é’»         | 1d    |
| S4-5 | é¡¹ç›®æ¦‚è§ˆé¡µ                           | âœ… å…³é”®æŒ‡æ ‡å¡ç‰‡ âœ… æœ€è¿‘é‡‡é›†çŠ¶æ€ âœ… å¿«é€Ÿæ“ä½œå…¥å£                  | 0.5d  |
| S4-6 | ECharts ç»„ä»¶å°è£…                     | âœ… æŠ˜çº¿å›¾/æŸ±çŠ¶å›¾/çƒ­åŠ›å›¾é€šç”¨å°è£… âœ… ä¸»é¢˜é€‚é… âœ… Loading çŠ¶æ€     | 1d    |

**Sprint 4 Gateï¼š** Dashboard å±•ç¤ºçœŸå®æ•°æ® â†’ å››ä¸ªé¢æ¿å¯äº¤äº’ â†’ é¡µé¢åŠ è½½ â‰¤ 3sã€‚

---

#### MVP æ€»éªŒæ”¶

| éªŒæ”¶é¡¹                                     | æ ‡å‡†                           |
| ------------------------------------------ | ------------------------------ |
| æ¥å…¥çœŸå® GitHub ä»“åº“                       | æˆåŠŸé‡‡é›† â‰¥ 50 PRs              |
| AI Success Rate å±•ç¤º                       | æ•°å€¼æ­£ç¡® + è¶‹åŠ¿å›¾å¯äº¤äº’        |
| PSRI è¯„åˆ†                                  | å¯è¿½æº¯åˆ°å­ç»´åº¦                  |
| æœ¬åœ° Git æ•°æ®é‡‡é›†                          | commit å†å²æˆåŠŸè§£æå†™å…¥         |
| ç«¯åˆ°ç«¯æ€§èƒ½                                 | é¡µé¢åŠ è½½ â‰¤ 3s                  |
| ä»£ç è´¨é‡                                   | lint é›¶é”™è¯¯ + æµ‹è¯•è¦†ç›–ç‡ â‰¥ 60% |

---

### 3.3 Phase 1 è¯¦ç»†ä»»åŠ¡æ‹†åˆ†

#### Sprint 5ï¼šå®Œæ•´æŒ‡æ ‡ä½“ç³»ï¼ˆ5 å¤©ï¼‰

| #    | ä»»åŠ¡                            | éªŒè¯æ¸…å•                                                    | é¢„ä¼° |
| ---- | ------------------------------- | ----------------------------------------------------------- | ---- |
| S5-1 | å®Œæ•´ PSRIï¼ˆ6 ç»´åº¦ + æƒé‡é…ç½®ï¼‰  | âœ… 6 ç»´åº¦ç‹¬ç«‹è®¡ç®— âœ… æƒé‡ API å¯é…ç½® âœ… å›æº¯æµ‹è¯•              | 1.5d |
| S5-2 | TDI æŠ€æœ¯å€ºæŒ‡æ•°                   | âœ… å¤æ‚åº¦/é‡å¤ç‡/ä½è¦†ç›–/ä¿®æ”¹é¢‘ç‡ âœ… å†å²è¶‹åŠ¿                  | 1d   |
| S5-3 | é£é™©ä¼ æ’­æŒ‡æ•°                     | âœ… graphology å›¾æ„å»º âœ… ä¸­å¿ƒåº¦è®¡ç®— âœ… ä¼ æ’­è·¯å¾„å¯è§†åŒ–           | 1.5d |
| S5-4 | æŒ‡æ ‡ç‰ˆæœ¬åŒ–å­˜å‚¨                   | âœ… æ¯æ¬¡è®¡ç®—æœ‰ snapshot_id âœ… æ”¯æŒå†å²æŸ¥è¯¢                      | 1d   |

#### Sprint 6ï¼šè§„åˆ™å¼•æ“ + å†³ç­–å»ºè®®ï¼ˆ4 å¤©ï¼‰

| #    | ä»»åŠ¡                              | éªŒè¯æ¸…å•                                                 | é¢„ä¼° |
| ---- | --------------------------------- | -------------------------------------------------------- | ---- |
| S6-1 | è§„åˆ™å¼•æ“æ ¸å¿ƒ                       | âœ… YAML è§„åˆ™å®šä¹‰ âœ… æ¡ä»¶è¯„ä¼° âœ… åŠ¨æ€åŠ è½½                   | 1.5d |
| S6-2 | çƒ­ç‚¹æ–‡ä»¶è¯†åˆ«                       | âœ… é«˜é¢‘ä¿®æ”¹+é«˜å¤æ‚åº¦è‡ªåŠ¨æ ‡è®° âœ… API è¿”å› Top N             | 0.5d |
| S6-3 | æ¨¡å—çº§ + Sprint çº§å»ºè®®              | âœ… åŸºäºè§„åˆ™è‡ªåŠ¨ç”Ÿæˆ âœ… å»ºè®®æ–‡æ¡ˆå¯è¯» âœ… ä¼˜å…ˆçº§æ’åº           | 1d   |
| S6-4 | å»ºè®® API + å‰ç«¯å¡ç‰‡                 | âœ… å»ºè®®åˆ—è¡¨é¡µ âœ… çŠ¶æ€ï¼ˆå¾…å¤„ç†/å·²é‡‡çº³/å·²å¿½ç•¥ï¼‰âœ… ç­›é€‰       | 1d   |

#### Sprint 7ï¼šDashboard å¢å¼ºï¼ˆ5 å¤©ï¼‰

| #    | ä»»åŠ¡                          | éªŒè¯æ¸…å•                                                  | é¢„ä¼° |
| ---- | ----------------------------- | --------------------------------------------------------- | ---- |
| S7-1 | æŠ€æœ¯å€ºè¶‹åŠ¿é¢æ¿                 | âœ… TDI æŠ˜çº¿å›¾ âœ… é«˜é£é™©æ–‡ä»¶å¢å‡æŸ±çŠ¶å›¾                      | 1d   |
| S7-2 | é£é™©çƒ­åŠ›å›¾                     | âœ… æ¨¡å—Ã—ç»´åº¦çŸ©é˜µ âœ… é¢œè‰²æ¢¯åº¦æ­£ç¡® âœ… ç‚¹å‡»ä¸‹é’»                | 1.5d |
| S7-3 | æŒ‡æ ‡ä¸‹é’»åŠŸèƒ½                   | âœ… PSRI â†’ å­ç»´åº¦ â†’ æ–‡ä»¶çº§ä¸‰å±‚é’»å– âœ… é¢åŒ…å±‘å¯¼èˆª            | 1d   |
| S7-4 | å†³ç­–å»ºè®®é¢æ¿                   | âœ… å»ºè®®å¡ç‰‡åˆ—è¡¨ âœ… é‡‡çº³/å¿½ç•¥æ“ä½œ âœ… å…³è”æŒ‡æ ‡å±•ç¤º            | 1d   |
| S7-5 | æƒé‡é…ç½®é¡µé¢                   | âœ… æ»‘å—/è¾“å…¥æ¡†è°ƒæ•´æƒé‡ âœ… ä¿å­˜åè§¦å‘é‡ç®— âœ… å‰åå¯¹æ¯”é¢„è§ˆ    | 0.5d |

#### Sprint 8ï¼šæ‰©å±•é‡‡é›† + å¤šç§Ÿæˆ·ï¼ˆ4 å¤©ï¼‰

| #    | ä»»åŠ¡                           | éªŒè¯æ¸…å•                                                 | é¢„ä¼° |
| ---- | ------------------------------ | -------------------------------------------------------- | ---- |
| S8-1 | å˜æ›´åä½œæŒ‡æ ‡é‡‡é›†                | âœ… review_rounds, merge_time, conflicts å†™å…¥              | 1d   |
| S8-2 | ç¼ºé™·æ•°æ®é‡‡é›†æ¥å£                | âœ… é€šç”¨æ¥å£ âœ… Jira adapter å®ç° âœ… bug_count, reopen_rate  | 1d   |
| S8-3 | RBAC æƒé™ç³»ç»Ÿ                   | âœ… Admin/Manager/Viewer ä¸‰è§’è‰² âœ… API çº§é‰´æƒ               | 1d   |
| S8-4 | å¤šé¡¹ç›®æ•°æ®éš”ç¦»                  | âœ… tenant_id è¡Œçº§è¿‡æ»¤ âœ… è·¨é¡¹ç›®ä¸å¯è§æµ‹è¯•                   | 1d   |

**Phase 1 Gateï¼š** å®Œæ•´ PSRI å¯è¿½æº¯ â†’ æƒé‡å¯é…ç½®ä¸”è§¦å‘é‡ç®— â†’ è§„åˆ™å¼•æ“è¾“å‡ºå»ºè®® â†’ çƒ­åŠ›å›¾æ­£ç¡® â†’ 1 ä¸‡æ–‡ä»¶æ€§èƒ½è¾¾æ ‡ã€‚

---

### 3.4 Phase 2+ ä»»åŠ¡æ¦‚è¦

> Phase 2+ ä»»åŠ¡åœ¨ Phase 1 å®Œæˆåç»†åŒ–ï¼Œæ­¤å¤„ä»…åˆ—å‡ºåŠŸèƒ½åŸŸã€‚

| åŠŸèƒ½åŸŸ               | æ ¸å¿ƒäº¤ä»˜                                           |
| -------------------- | -------------------------------------------------- |
| ML é¢„æµ‹              | è®­ç»ƒç®¡é“ + XGBoost æ¨¡å‹ + SHAP å¯è§£é‡Š + A/B æµ‹è¯•   |
| å®æ—¶ PR é£é™©         | Webhook è§¦å‘ â†’ 30s å†…è¿”å›é£é™©è¯„åˆ† â†’ GitHub Check    |
| LLM éœ€æ±‚åˆ†æ         | PRD ä¸Šä¼  â†’ å¤æ‚åº¦è§£æ â†’ æ¨¡å—å½±å“æ¨æ–­                |
| IDE æ’ä»¶             | VS Code æ‰©å±• â†’ æœ¬åœ°è¡Œä¸ºé‡‡é›† â†’ åå°ä¸ŠæŠ¥              |
| ç»„ç»‡çº§é¢æ¿           | å›¢é˜Ÿå¯¹æ¯” + é€‚é…æ¨è + ROI æ±‡æ€»                      |
| è§„æ¨¡åŒ–               | TimescaleDB æ‰©å±• + è¯»å†™åˆ†ç¦» + åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦        |

---

## 4. Commit ä¸ PR ç­–ç•¥

### 4.1 Commit è§„èŒƒ

#### æ ¼å¼

```
<type>(<scope>): <subject>

[optional body]

[optional footer]
```

#### Type æšä¸¾

| Type       | è¯´æ˜                          | ç¤ºä¾‹                                          |
| ---------- | ----------------------------- | --------------------------------------------- |
| `feat`     | æ–°åŠŸèƒ½                        | `feat(collector): add GitHub PR collector`    |
| `fix`      | ä¿®å¤                          | `fix(metrics): correct PSRI weight sum`       |
| `refactor` | é‡æ„ï¼ˆä¸æ”¹å˜åŠŸèƒ½ï¼‰            | `refactor(api): extract auth middleware`      |
| `test`     | æµ‹è¯•                          | `test(metrics): add AI success rate edge cases`|
| `chore`    | å·¥ç¨‹é…ç½®                      | `chore: add docker-compose for local dev`     |
| `docs`     | æ–‡æ¡£                          | `docs: update API endpoint reference`         |
| `style`    | æ ¼å¼ï¼ˆä¸å½±å“é€»è¾‘ï¼‰            | `style: fix eslint warnings`                  |
| `perf`     | æ€§èƒ½ä¼˜åŒ–                      | `perf(db): add index for metric queries`      |

#### Scope æšä¸¾

| Scope        | å¯¹åº”æ¨¡å—            |
| ------------ | ------------------- |
| `auth`       | è®¤è¯/æˆæƒ           |
| `collector`  | æ•°æ®é‡‡é›†            |
| `metrics`    | æŒ‡æ ‡è®¡ç®—            |
| `risk`       | é£é™©åˆ†æ            |
| `decision`   | å†³ç­–å»ºè®®            |
| `dashboard`  | å‰ç«¯ Dashboard      |
| `db`         | æ•°æ®åº“/Schema       |
| `api`        | API è·¯ç”±/ä¸­é—´ä»¶     |
| `shared`     | å…±äº«åŒ…              |
| `infra`      | åŸºç¡€è®¾æ–½/CI/Docker  |

### 4.2 åŠŸèƒ½èšåˆ Commit

**åŸåˆ™ï¼šä¸€ä¸ªåŠŸèƒ½ç‰¹æ€§ = ä¸€ä¸ªé€»è¾‘ Commitã€‚**

ä¸æ¨èï¼š
```
commit 1: "add user model"
commit 2: "add user route"
commit 3: "fix user route typo"
commit 4: "add user test"
```

æ¨èï¼š
```
commit 1: "feat(auth): implement user registration with validation and tests"
```

å¯¹äºè¶…è¿‡ 2 å¤©çš„å¤§åŠŸèƒ½ï¼ŒæŒ‰å­åŠŸèƒ½æ‹†åˆ† Commitï¼š
```
commit 1: "feat(collector): implement GitHub collector adapter with PR fetching"
commit 2: "feat(collector): add BullMQ scheduled collection job"
commit 3: "feat(collector): add collection status API and frontend display"
```

### 4.3 PR æäº¤ç­–ç•¥

| åœºæ™¯                  | PR ç­–ç•¥                                          |
| --------------------- | ------------------------------------------------ |
| Sprint å®Œæˆ           | å¿…é¡»æ PR                                        |
| åŠŸèƒ½æ¨¡å—å®Œæˆ          | å»ºè®®æ PRï¼ˆå¦‚å®Œæ•´çš„ Collector æ¨¡å—ï¼‰             |
| é‡è¦é‡Œç¨‹ç¢‘            | å¿…é¡»æ PR + æ ‡ç­¾æ ‡è®°                             |
| ç´§æ€¥ä¿®å¤              | ç«‹å³æ PR                                        |

**PR æ¨¡æ¿ï¼š**

```markdown
## å˜æ›´æ¦‚è¦
<!-- ä¸€å¥è¯æè¿° -->

## å˜æ›´å†…å®¹
- [ ] åŠŸèƒ½å®ç°
- [ ] å•å…ƒæµ‹è¯•
- [ ] æ–‡æ¡£æ›´æ–°

## éªŒè¯æ–¹å¼
<!-- å¦‚ä½•éªŒè¯è¿™ä¸ª PR çš„æ­£ç¡®æ€§ -->

## å…³è”ä»»åŠ¡
<!-- Sprint X - Task ID -->

## æˆªå›¾/å½•å±
<!-- å¦‚æœ‰ UI å˜æ›´ -->
```

### 4.4 åˆ†æ”¯ç­–ç•¥

```
main â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
  â”‚
  â””â”€â”€ feat/s0-project-init â”€â”€â”€â”€ PR â”€â”€â”€â”€ merge â”€â”€â”€â–º
  â””â”€â”€ feat/s1-auth â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ PR â”€â”€â”€â”€ merge â”€â”€â”€â–º
  â””â”€â”€ feat/s2-collector â”€â”€â”€â”€â”€â”€â”€ PR â”€â”€â”€â”€ merge â”€â”€â”€â–º
  â””â”€â”€ fix/psri-calc â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ PR â”€â”€â”€â”€ merge â”€â”€â”€â–º
```

åˆ†æ”¯å‘½åï¼š`feat/<sprint>-<feature>` æˆ– `fix/<description>`ã€‚

---

## 5. ä»£ç è´¨é‡æ ‡å‡†

### 5.1 å‘½åè§„èŒƒ

#### TypeScript / JavaScript

| å…ƒç´            | è§„èŒƒ                  | ç¤ºä¾‹                                |
| -------------- | --------------------- | ----------------------------------- |
| æ–‡ä»¶å         | kebab-case            | `github-collector.ts`               |
| ç±»å           | PascalCase            | `MetricsEngine`                     |
| æ¥å£å         | PascalCase + I å‰ç¼€   | `IDataCollector`                    |
| ç±»å‹å         | PascalCase            | `ProjectConfig`                     |
| å‡½æ•°/æ–¹æ³•      | camelCase             | `calculatePsri()`                   |
| å¸¸é‡           | UPPER_SNAKE_CASE      | `MAX_RETRY_COUNT`                   |
| å˜é‡           | camelCase             | `projectList`                       |
| æšä¸¾           | PascalCase (æˆå‘˜åŒ)   | `DataSourceType.GitHub`             |
| React ç»„ä»¶     | PascalCase            | `RiskHeatmap`                       |
| Hook           | use + PascalCase      | `useMetrics()`                      |
| æµ‹è¯•æ–‡ä»¶       | `*.test.ts`           | `metrics-engine.test.ts`            |

#### æ•°æ®åº“

| å…ƒç´        | è§„èŒƒ            | ç¤ºä¾‹                    |
| ---------- | --------------- | ----------------------- |
| è¡¨å       | snake_case å¤æ•° | `pull_requests`         |
| åˆ—å       | snake_case      | `ai_success_rate`       |
| ç´¢å¼•å     | `idx_è¡¨_åˆ—`     | `idx_metrics_project_id`|
| å¤–é”®å     | `fk_è¡¨_å…³è”è¡¨`  | `fk_metrics_project`    |

#### API ç«¯ç‚¹

| è§„èŒƒ         | ç¤ºä¾‹                                |
| ------------ | ----------------------------------- |
| èµ„æºå¤æ•°     | `/api/v1/projects`                  |
| åµŒå¥—å…³ç³»     | `/api/v1/projects/:id/metrics`      |
| æ“ä½œç”¨åŠ¨è¯   | `/api/v1/collectors/:id/trigger`    |
| æŸ¥è¯¢å‚æ•°     | `?from=2025-01-01&to=2025-06-01`   |

### 5.2 ä»£ç è…çƒ‚è¯†åˆ«

#### è‡ªåŠ¨æ£€æµ‹ï¼ˆCI é›†æˆï¼‰

| ä¿¡å·                    | æ£€æµ‹æ–¹å¼                    | é˜ˆå€¼                  | åŠ¨ä½œ         |
| ----------------------- | --------------------------- | --------------------- | ------------ |
| æ–‡ä»¶è¿‡é•¿                | ESLint rule                 | > 300 è¡Œ              | Warning      |
| å‡½æ•°è¿‡é•¿                | ESLint rule                 | > 50 è¡Œ               | Warning      |
| åœˆå¤æ‚åº¦è¿‡é«˜            | ESLint complexity rule      | > 15                  | Error        |
| é‡å¤ä»£ç                 | jscpd                       | > 5% é‡å¤ç‡           | Warning      |
| æœªä½¿ç”¨å¯¼å‡º              | ts-prune / knip             | å­˜åœ¨å³æŠ¥              | Warning      |
| ç±»å‹ any ä½¿ç”¨           | @typescript-eslint          | ç¦ç”¨ï¼ˆæå°‘æ•°ä¾‹å¤–ï¼‰    | Error        |
| å¾ªç¯ä¾èµ–                | madge                       | å­˜åœ¨å³æŠ¥              | Error        |
| è¿‡æ·±åµŒå¥—                | ESLint max-depth            | > 4 å±‚                | Warning      |
| å·¨å‹ Commit             | Git hook                    | > 500 è¡Œå˜æ›´          | æé†’æ‹†åˆ†     |

#### äººå·¥å®¡æŸ¥ Checklist

æ¯æ¬¡ Code Review æ£€æŸ¥ä»¥ä¸‹è…çƒ‚ä¿¡å·ï¼š

- [ ] æ˜¯å¦å­˜åœ¨ God Objectï¼ˆå•æ–‡ä»¶/ç±»æ‰¿æ‹…è¿‡å¤šèŒè´£ï¼‰
- [ ] æ˜¯å¦å­˜åœ¨ Shotgun Surgeryï¼ˆä¸€ä¸ªå˜æ›´éœ€è¦ä¿®æ”¹å¤šå¤„ï¼‰
- [ ] æ˜¯å¦å­˜åœ¨ Feature Envyï¼ˆé¢‘ç¹è®¿é—®å…¶ä»–æ¨¡å—å†…éƒ¨æ•°æ®ï¼‰
- [ ] æ˜¯å¦å­˜åœ¨è¿‡åº¦æŠ½è±¡ï¼ˆä¸å¿…è¦çš„æ¥å£/å·¥å‚/æ³›å‹ï¼‰
- [ ] æ˜¯å¦å­˜åœ¨é­”æ³•æ•°å­—/é­”æ³•å­—ç¬¦ä¸²
- [ ] é”™è¯¯å¤„ç†æ˜¯å¦å¥å…¨ï¼ˆæ˜¯å¦åæ‰äº†é”™è¯¯ï¼‰

### 5.3 é‡æ„æ¡ä»¶ä¸è§¦å‘

| æ¡ä»¶                                          | è§¦å‘åŠ¨ä½œ                          |
| --------------------------------------------- | --------------------------------- |
| å•æ–‡ä»¶è¶…è¿‡ 400 è¡Œ                             | åˆ›å»ºé‡æ„ä»»åŠ¡ï¼Œå½“å‰ Sprint è§£å†³    |
| å•å‡½æ•°è¶…è¿‡ 80 è¡Œ                              | åˆ›å»ºé‡æ„ä»»åŠ¡ï¼Œå½“å‰ Sprint è§£å†³    |
| æ¨¡å—å¾ªç¯ä¾èµ–                                  | ç«‹å³é‡æ„ï¼Œé˜»æ–­ PR åˆå¹¶            |
| é‡å¤ä»£ç  > 10%                                | åˆ›å»ºé‡æ„ä»»åŠ¡ï¼Œä¸‹ä¸ª Sprint è§£å†³    |
| æµ‹è¯•è¦†ç›–ç‡ä¸‹é™ > 5%                           | å½“å‰ PR è¡¥å……æµ‹è¯•                  |
| åŒä¸€æ–‡ä»¶ 3 ä¸ª Sprint è¿ç»­è¢«ä¿®æ”¹ä¸”å¤æ‚åº¦ä¸Šå‡   | åˆ›å»ºæ¶æ„é‡æ„ä»»åŠ¡                  |
| Bug ä¿®å¤é¢‘ç¹é›†ä¸­åœ¨åŒä¸€æ¨¡å—                    | åˆ›å»ºé‡æ„ä»»åŠ¡ + æ¶æ„è¯„å®¡           |

---

## 6. ç¼–ç¨‹è§„èŒƒä¸ç¼–ç é£æ ¼

### 6.1 TypeScript ç¼–ç è§„èŒƒ

```typescript
// âœ… æ­£ç¡®ï¼šæ˜ç¡®è¿”å›ç±»å‹
async function calculatePsri(projectId: string): Promise<PsriResult> { ... }

// âŒ é”™è¯¯ï¼šçœç•¥è¿”å›ç±»å‹
async function calculatePsri(projectId: string) { ... }

// âœ… æ­£ç¡®ï¼šä½¿ç”¨ Zod schema æ ¡éªŒå…¥å‚
const CreateProjectSchema = z.object({
  name: z.string().min(1).max(100),
  repoUrl: z.string().url(),
});

// âŒ é”™è¯¯ï¼šæ‰‹åŠ¨æ ¡éªŒ
if (!name || name.length > 100) throw new Error('invalid');

// âœ… æ­£ç¡®ï¼šé”™è¯¯å¤„ç†ä½¿ç”¨è‡ªå®šä¹‰ Error ç±»
class CollectorError extends AppError {
  constructor(source: DataSourceType, message: string) {
    super(`[${source}] ${message}`, 'COLLECTOR_ERROR');
  }
}

// âŒ é”™è¯¯ï¼šæŠ›å‡ºåŸå§‹å­—ç¬¦ä¸²
throw 'collection failed';

// âœ… æ­£ç¡®ï¼šé…ç½®ä½¿ç”¨ env schema æ ¡éªŒ
const envSchema = z.object({
  DATABASE_URL: z.string().url(),
  REDIS_URL: z.string().url(),
  JWT_SECRET: z.string().min(32),
});

// âŒ é”™è¯¯ï¼šç›´æ¥è¯»å– process.env
const dbUrl = process.env.DATABASE_URL!;
```

### 6.2 React ç»„ä»¶è§„èŒƒ

```typescript
// âœ… æ­£ç¡®ï¼šç»„ä»¶ Props ä½¿ç”¨ interface æ˜¾å¼å®šä¹‰
interface MetricCardProps {
  title: string;
  value: number;
  trend: 'up' | 'down' | 'flat';
  format?: (v: number) => string;
}

export function MetricCard({ title, value, trend, format }: MetricCardProps) {
  // ...
}

// âœ… æ­£ç¡®ï¼šhooks æŠ½å–å¤æ‚é€»è¾‘
function useProjectMetrics(projectId: string) {
  return useQuery({
    queryKey: ['metrics', projectId],
    queryFn: () => api.getMetrics(projectId),
  });
}

// âŒ é”™è¯¯ï¼šç»„ä»¶å†…ç›´æ¥å†™å¤§é‡ fetch é€»è¾‘
```

### 6.3 é¡¹ç›®çº§é…ç½®

#### ESLint æ ¸å¿ƒè§„åˆ™

```javascript
// .eslintrc.js å…³é”®è§„åˆ™
{
  rules: {
    // TypeScript ä¸¥æ ¼æ¨¡å¼
    '@typescript-eslint/no-explicit-any': 'error',
    '@typescript-eslint/explicit-function-return-type': 'warn',
    '@typescript-eslint/no-unused-vars': ['error', { argsIgnorePattern: '^_' }],

    // å¤æ‚åº¦æ§åˆ¶
    'complexity': ['warn', 15],
    'max-depth': ['warn', 4],
    'max-lines': ['warn', { max: 300, skipBlankLines: true, skipComments: true }],
    'max-lines-per-function': ['warn', { max: 50, skipBlankLines: true, skipComments: true }],

    // å¯¼å…¥è§„èŒƒ
    'import/order': ['error', {
      groups: ['builtin', 'external', 'internal', 'parent', 'sibling'],
      'newlines-between': 'always',
    }],
    'import/no-cycle': 'error',
  }
}
```

#### Prettier é…ç½®

```json
{
  "semi": true,
  "singleQuote": true,
  "trailingComma": "all",
  "printWidth": 100,
  "tabWidth": 2,
  "arrowParens": "always"
}
```

#### tsconfig å…³é”®é…ç½®

```json
{
  "compilerOptions": {
    "strict": true,
    "noUncheckedIndexedAccess": true,
    "noImplicitOverride": true,
    "forceConsistentCasingInFileNames": true,
    "exactOptionalPropertyTypes": false
  }
}
```

### 6.4 æµ‹è¯•è§„èŒƒ

| è§„èŒƒ                     | è¯´æ˜                                               |
| ------------------------ | -------------------------------------------------- |
| æµ‹è¯•æ–‡ä»¶ä½ç½®             | ä¸æºæ–‡ä»¶åŒç›®å½•ï¼Œ`*.test.ts`                        |
| æµ‹è¯•å‘½å                 | `describe('æ¨¡å—') â†’ it('should è¡Œä¸º')`             |
| å•å…ƒæµ‹è¯•è¦†ç›–ç‡          | å¼•æ“/æœåŠ¡å±‚ â‰¥ 80%ï¼›å·¥å…·å‡½æ•° â‰¥ 90%                  |
| é›†æˆæµ‹è¯•                 | API ç«¯ç‚¹å¿…é¡»æœ‰é›†æˆæµ‹è¯•                              |
| Mock ç­–ç•¥                | å¤–éƒ¨ä¾èµ– Mockï¼›DB ä½¿ç”¨æµ‹è¯•åº“ï¼ˆå†…å­˜ PG æˆ–ç‹¬ç«‹æµ‹è¯•åº“ï¼‰|
| æµ‹è¯•æ•°æ®                 | ä½¿ç”¨ Factory æ¨¡å¼ç”Ÿæˆï¼›ç¦æ­¢ç¡¬ç¼–ç                    |

---

## 7. Agent Coding å·¥ä½œæµ

### 7.1 å·¥ä½œæµæ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Plan   â”‚â”€â”€â”€â–¶â”‚  Code   â”‚â”€â”€â”€â–¶â”‚  Verify â”‚â”€â”€â”€â–¶â”‚  Commit  â”‚â”€â”€â”€â–¶â”‚  Report â”‚
â”‚ (è§„åˆ’)  â”‚    â”‚ (ç¼–ç )  â”‚    â”‚ (éªŒè¯)  â”‚    â”‚ (æäº¤)   â”‚    â”‚ (æŠ¥å‘Š)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚              â”‚              â”‚               â”‚               â”‚
     â–¼              â–¼              â–¼               â–¼               â–¼
 è¯»å–ä»»åŠ¡æ¸…å•   æŒ‰è§„èŒƒç¼–ç     è¿è¡ŒéªŒè¯æ¸…å•     åŠŸèƒ½èšåˆcommit   æ›´æ–°è¿›åº¦æ–‡æ¡£
 ç¡®è®¤èŒƒå›´è¾¹ç•Œ   ç±»å‹å®‰å…¨ä¼˜å…ˆ  lint+test+build  æ¨é€åˆ°åˆ†æ”¯       æ ‡è®°é£é™©ç‚¹
 æ£€æŸ¥ä¾èµ–é¡¹    é”™è¯¯å¤„ç†å®Œå¤‡   æ‰‹åŠ¨éªŒè¯UI      PRæè¿°å®Œæ•´       å½’æ¡£å†³ç­–è®°å½•
```

### 7.2 å•ä»»åŠ¡æ‰§è¡Œæµç¨‹

æ¯ä¸ªä»»åŠ¡ï¼ˆå¦‚ S2-2 GitHub Collectorï¼‰éµå¾ªä»¥ä¸‹æµç¨‹ï¼š

```
1. å‡†å¤‡é˜¶æ®µ
   â”œâ”€â”€ é˜…è¯»ä»»åŠ¡æè¿°å’ŒéªŒè¯æ¸…å•
   â”œâ”€â”€ æ£€æŸ¥ä¾èµ–ä»»åŠ¡æ˜¯å¦å·²å®Œæˆ
   â”œâ”€â”€ ç¡®è®¤æ¶‰åŠçš„æ–‡ä»¶å’Œæ¨¡å—
   â””â”€â”€ è¯„ä¼°é£é™©ç‚¹

2. ç¼–ç é˜¶æ®µ
   â”œâ”€â”€ å…ˆå†™ç±»å‹å®šä¹‰ï¼ˆinterface / typeï¼‰
   â”œâ”€â”€ å†å†™æ ¸å¿ƒé€»è¾‘
   â”œâ”€â”€ ç„¶åå†™æµ‹è¯•
   â”œâ”€â”€ æœ€åå†™ API è·¯ç”± / å‰ç«¯å±•ç¤º
   â””â”€â”€ å…¨ç¨‹éµå®ˆç¼–ç è§„èŒƒ

3. éªŒè¯é˜¶æ®µ
   â”œâ”€â”€ pnpm lintï¼ˆé›¶é”™è¯¯ï¼‰
   â”œâ”€â”€ pnpm testï¼ˆå…¨é€šè¿‡ï¼‰
   â”œâ”€â”€ pnpm buildï¼ˆç¼–è¯‘æˆåŠŸï¼‰
   â”œâ”€â”€ æ‰‹åŠ¨éªŒè¯åŠŸèƒ½æ­£ç¡®æ€§
   â””â”€â”€ é€æ¡æ£€æŸ¥éªŒè¯æ¸…å•

4. æäº¤é˜¶æ®µ
   â”œâ”€â”€ git addï¼ˆä»…ç›¸å…³æ–‡ä»¶ï¼‰
   â”œâ”€â”€ git commitï¼ˆè§„èŒƒæ ¼å¼ï¼‰
   â”œâ”€â”€ git push
   â””â”€â”€ å¿…è¦æ—¶æ PR

5. æŠ¥å‘Šé˜¶æ®µ
   â”œâ”€â”€ æ›´æ–°ä»»åŠ¡çŠ¶æ€ï¼ˆè¿›è¡Œä¸­ â†’ å·²å®Œæˆï¼‰
   â”œâ”€â”€ è®°å½•é‡åˆ°çš„é—®é¢˜å’Œå†³ç­–
   â”œâ”€â”€ æ ‡è®°å‘ç°çš„æŠ€æœ¯å€º
   â””â”€â”€ æ›´æ–°è¿›åº¦è·Ÿè¸ªè¡¨
```

### 7.3 æ¯æ—¥å·¥ä½œèŠ‚å¥

```
å¼€å§‹ â†’ æ£€æŸ¥ä»»åŠ¡æ¸…å• â†’ é€‰å–å½“æ—¥ä»»åŠ¡ â†’ æ‰§è¡Œä»»åŠ¡å¾ªç¯ â†’ ç»“æŸ

ä»»åŠ¡å¾ªç¯:
  â”Œâ”€â”€ Pick Task
  â”œâ”€â”€ Code + Test
  â”œâ”€â”€ Verify Checklist
  â”œâ”€â”€ Commit + Push
  â””â”€â”€ Update Progress
  â””â”€â”€ (ä¸‹ä¸€ä¸ªä»»åŠ¡æˆ–ç»“æŸ)
```

### 7.4 è´¨é‡é—¨ç¦ï¼ˆæ¯æ¬¡ Commit å‰ï¼‰

```
Pre-Commit Checklist:
  â˜ pnpm lint é›¶é”™è¯¯
  â˜ pnpm test å…¨é€šè¿‡
  â˜ pnpm build ç¼–è¯‘æˆåŠŸ
  â˜ æ–°å¢ä»£ç æœ‰å¯¹åº”æµ‹è¯•
  â˜ æ—  console.log / debugger æ®‹ç•™
  â˜ æ—  any ç±»å‹ï¼ˆé™¤æ ‡æ³¨ä¾‹å¤–ï¼‰
  â˜ æ— å¾ªç¯ä¾èµ–
  â˜ commit message ç¬¦åˆè§„èŒƒ
```

### 7.5 Sprint Gate æµç¨‹

æ¯ä¸ª Sprint ç»“æŸæ—¶ï¼š

```
Sprint Gate:
  â˜ æ‰€æœ‰ä»»åŠ¡éªŒè¯æ¸…å• 100% é€šè¿‡
  â˜ CI æµæ°´çº¿ç»¿ç¯
  â˜ æµ‹è¯•è¦†ç›–ç‡è¾¾æ ‡
  â˜ æ— é—ç•™çš„ lint error
  â˜ PR å·²æäº¤å¹¶åŒ…å«å®Œæ•´æè¿°
  â˜ è¿›åº¦æ–‡æ¡£å·²æ›´æ–°
  â˜ é£é™©é¡¹å·²æ ‡æ³¨
  â˜ ADR å·²å½’æ¡£ï¼ˆå¦‚æœ‰æ¶æ„å†³ç­–ï¼‰
```

---

## 8. è¿›åº¦ä¸é£é™©è¿½è¸ª

### 8.1 è¿›åº¦è¿½è¸ªè¡¨

æ¯ä¸ª Sprint ç»´æŠ¤ä»¥ä¸‹è¡¨æ ¼ï¼š

```markdown
## Sprint X è¿›åº¦

| ä»»åŠ¡ ID | ä»»åŠ¡æè¿°         | çŠ¶æ€     | å¼€å§‹    | å®Œæˆ    | é˜»å¡é¡¹ | å¤‡æ³¨ |
| ------- | ---------------- | -------- | ------- | ------- | ------ | ---- |
| S2-1    | Collector æ¥å£   | âœ… Done  | Day 1   | Day 1   | -      |      |
| S2-2    | GitHub Collector | ğŸ”„ è¿›è¡Œä¸­| Day 2   | -       | -      |      |
| S2-3    | Local Git        | â³ å¾…å¼€å§‹| -       | -       | S2-1   |      |
```

çŠ¶æ€å›¾æ ‡ï¼š
- â³ å¾…å¼€å§‹
- ğŸ”„ è¿›è¡Œä¸­
- âœ… å·²å®Œæˆ
- âŒ å·²é˜»å¡
- âš ï¸ æœ‰é£é™©

### 8.2 é£é™©ç™»è®°ç°¿

| é£é™© ID | æè¿°                                    | æ¦‚ç‡ | å½±å“ | ç¼“è§£æªæ–½                              | çŠ¶æ€   |
| ------- | --------------------------------------- | ---- | ---- | ------------------------------------- | ------ |
| R-01    | GitHub API Rate Limit å½±å“é‡‡é›†é¢‘ç‡      | é«˜   | ä¸­   | å®ç°ç¼“å­˜ + å¢é‡é‡‡é›† + å¤š Token è½®æ¢    | å¾…å¤„ç† |
| R-02    | ECharts å¤§æ•°æ®é‡æ¸²æŸ“æ€§èƒ½                | ä¸­   | ä¸­   | æ•°æ®èšåˆ + è™šæ‹Ÿæ»šåŠ¨ + é‡‡æ ·ç­–ç•¥         | å¾…å¤„ç† |
| R-03    | Prisma å¤æ‚æŸ¥è¯¢æ€§èƒ½                     | ä¸­   | é«˜   | å…³é”®è·¯å¾„ä½¿ç”¨ Raw SQL + ç´¢å¼•ä¼˜åŒ–        | å¾…å¤„ç† |
| R-04    | æœ¬åœ° Git ä»“åº“è¿‡å¤§å¯¼è‡´è§£æè¶…æ—¶            | ä¸­   | ä¸­   | æµå¼è§£æ + åˆ†é¡µå¤„ç† + è¶…æ—¶ä¿æŠ¤          | å¾…å¤„ç† |
| R-05    | BullMQ ä»»åŠ¡å †ç§¯                         | ä½   | é«˜   | å¹¶å‘é™åˆ¶ + æ­»ä¿¡é˜Ÿåˆ— + å‘Šè­¦               | å¾…å¤„ç† |
| R-06    | è·¨åŒ…ç±»å‹åŒæ­¥é—®é¢˜                        | ä¸­   | ä¸­   | Turborepo watch æ¨¡å¼ + ç±»å‹å¯¼å‡ºæµ‹è¯•     | å¾…å¤„ç† |

### 8.3 æŠ€æœ¯å†³ç­–è®°å½•ï¼ˆADRï¼‰

æ¯ä¸ªé‡è¦æŠ€æœ¯å†³ç­–è®°å½•ä¸º ADRï¼š

```
æ–‡ä»¶å‘½åï¼šdocs/adr/NNNN-decision-title.md

æ¨¡æ¿ï¼š
# ADR-NNNN: Decision Title

## Status: Accepted / Superseded / Deprecated

## Context
<!-- åšè¿™ä¸ªå†³ç­–çš„èƒŒæ™¯ -->

## Decision
<!-- æœ€ç»ˆå†³ç­–æ˜¯ä»€ä¹ˆ -->

## Consequences
<!-- æ­£é¢å’Œè´Ÿé¢åæœ -->
```

éœ€è¦è®°å½• ADR çš„åœºæ™¯ï¼š
- é€‰æ‹©æ–°çš„æŠ€æœ¯ç»„ä»¶
- æ”¹å˜æ•°æ®æ¨¡å‹ç»“æ„
- API è®¾è®¡é‡å¤§å˜æ›´
- æ¶æ„åˆ†å±‚è°ƒæ•´
- æ€§èƒ½ä¼˜åŒ–ç­–ç•¥é€‰æ‹©

---

## 9. æ–‡æ¡£å½’æ¡£ç­–ç•¥

### 9.1 æ–‡æ¡£å±‚çº§

```
docs/
â”œâ”€â”€ spec.md              # äº§å“è§„æ ¼è¯´æ˜ä¹¦ï¼ˆç¨³å®šï¼‰
â”œâ”€â”€ research.md          # æŠ€æœ¯è°ƒç ”æŠ¥å‘Šï¼ˆç¨³å®šï¼‰
â”œâ”€â”€ plan.md              # å®æ–½è®¡åˆ’ï¼ˆéšè¿›å±•æ›´æ–°ï¼‰
â”‚
â”œâ”€â”€ adr/                 # æ¶æ„å†³ç­–è®°å½•
â”‚   â”œâ”€â”€ 0001-monorepo-structure.md
â”‚   â”œâ”€â”€ 0002-hono-over-express.md
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ progress/            # è¿›åº¦å¿«ç…§
â”‚   â”œâ”€â”€ sprint-0.md
â”‚   â”œâ”€â”€ sprint-1.md
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ api/                 # API æ–‡æ¡£ï¼ˆè‡ªåŠ¨ç”Ÿæˆ + æ‰‹åŠ¨è¡¥å……ï¼‰
â”‚   â””â”€â”€ openapi.yaml
â”‚
â””â”€â”€ changelog/           # ç‰ˆæœ¬å˜æ›´æ—¥å¿—
    â””â”€â”€ CHANGELOG.md
```

### 9.2 æ–‡æ¡£æ›´æ–°æ—¶æœº

| æ–‡æ¡£              | æ›´æ–°æ—¶æœº                          | è´£ä»»æ–¹          |
| ----------------- | --------------------------------- | --------------- |
| `spec.md`         | éœ€æ±‚å˜æ›´æ—¶                        | äº§å“/æ¶æ„       |
| `research.md`     | æŠ€æœ¯é€‰å‹å˜æ›´æ—¶                    | æ¶æ„            |
| `plan.md`         | Sprint è§„åˆ’è°ƒæ•´æ—¶                 | å·¥ç¨‹            |
| ADR               | æ¯æ¬¡é‡è¦æŠ€æœ¯å†³ç­–å                | åšå‡ºå†³ç­–çš„äºº    |
| Sprint è¿›åº¦       | æ¯ä¸ª Sprint ç»“æŸ                  | Agent / å·¥ç¨‹    |
| CHANGELOG         | æ¯æ¬¡ PR åˆå¹¶åˆ° main               | è‡ªåŠ¨/å·¥ç¨‹       |
| API æ–‡æ¡£          | API å˜æ›´æ—¶                        | åç«¯            |

### 9.3 Agent Coding æ–‡æ¡£äº§å‡º

Agent æ¯æ¬¡å·¥ä½œä¼šè¯ç»“æŸæ—¶é¡»äº§å‡ºï¼š

1. **Commit è®°å½•** â€” ç¬¦åˆè§„èŒƒçš„ commit message
2. **è¿›åº¦æ›´æ–°** â€” æ›´æ–° Sprint è¿›åº¦è¡¨ä¸­çš„ä»»åŠ¡çŠ¶æ€
3. **é£é™©æ ‡æ³¨** â€” å‘ç°çš„æ–°é£é™©æ·»åŠ åˆ°é£é™©ç™»è®°ç°¿
4. **ADRï¼ˆå¦‚éœ€ï¼‰** â€” åšå‡ºæ¶æ„çº§å†³ç­–æ—¶è®°å½•
5. **ä»£ç æ³¨é‡Š** â€” å¤æ‚é€»è¾‘å¤„çš„å¿…è¦æ³¨é‡Šï¼ˆéæ˜¾è€Œæ˜“è§çš„é€»è¾‘ï¼‰

---

## 10. é‡Œç¨‹ç¢‘æ€»è§ˆ

```
Week 1-2     Week 3-4       Week 5-6        Week 7-8       Week 9-10
Sprint 0+1   Sprint 2       Sprint 3        Sprint 4       Sprint 5-8
â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
è„šæ‰‹æ¶+è®¤è¯   æ•°æ®é‡‡é›†æ ¸å¿ƒ    æŒ‡æ ‡è®¡ç®—å¼•æ“     Dashboard      Phase 1 å®Œæ•´
             (è¿œç«¯+æœ¬åœ°)                     æ ¸å¿ƒé¢æ¿       æŒ‡æ ‡+è§„åˆ™+å»ºè®®

    â”‚            â”‚              â”‚               â”‚              â”‚
    â–¼            â–¼              â–¼               â–¼              â–¼
  Gate 0+1     Gate 2         Gate 3          Gate 4        Phase 1 Gate
  é¡¹ç›®å¯è¿è¡Œ   æ•°æ®å¯é‡‡é›†      æŒ‡æ ‡å¯æŸ¥è¯¢      å¯è§†åŒ–å¯ç”¨     å…¨åŠŸèƒ½å¯ç”¨
```

| é‡Œç¨‹ç¢‘      | æ—¥æœŸç›®æ ‡     | å…³é”®äº¤ä»˜                                   | Go/No-Go æ ‡å‡†                         |
| ----------- | ------------ | ------------------------------------------ | -------------------------------------- |
| **MVP-Î±**   | Week 2 ç»“æŸ  | è„šæ‰‹æ¶ + è®¤è¯ + é¡¹ç›®ç®¡ç†                   | `pnpm dev` å…¨æ ˆå¯åŠ¨ + ç”¨æˆ·å¯ç™»å½•       |
| **MVP-Î²**   | Week 4 ç»“æŸ  | æ•°æ®é‡‡é›†ï¼ˆGitHub + æœ¬åœ° Gitï¼‰+ åŸºç¡€æŒ‡æ ‡    | çœŸå®ä»“åº“æ•°æ®å…¥åº“ + API å¯æŸ¥è¯¢          |
| **MVP-RC**  | Week 6 ç»“æŸ  | Dashboard å››é¢æ¿ + ç«¯åˆ°ç«¯å¯ç”¨              | é¡µé¢åŠ è½½ â‰¤3s + æ•°æ®æ­£ç¡®å±•ç¤º            |
| **Phase 1** | Week 10 ç»“æŸ | å®Œæ•´æŒ‡æ ‡ + è§„åˆ™å¼•æ“ + çƒ­åŠ›å›¾ + å»ºè®®        | PSRI å¯è¿½æº¯ + å»ºè®®å¯æ“ä½œ + æ€§èƒ½è¾¾æ ‡     |
